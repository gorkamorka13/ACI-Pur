Mettre en place un mécanisme de réinitialisation de mot de passe est une approche beaucoup plus sécurisée pour aider les utilisateurs qui ont oublié leur mot de passe.

Voici les grandes étapes pour implémenter une fonctionnalité de réinitialisation de mot de passe :

1. __Côté Backend (API):__

   - Créer un nouvel endpoint (par exemple, `/api/auth/request-password-reset`) où un utilisateur peut soumettre son adresse e-mail ou nom d'utilisateur.
   - Lorsqu'une demande est reçue, vérifier que l'utilisateur existe.
   - Générer un token de réinitialisation unique et sécurisé (par exemple, en utilisant une bibliothèque cryptographique).
   - Stocker ce token haché (ou le token lui-même si sa durée de vie est très courte et qu'il est invalidé après usage) ainsi qu'une date d'expiration dans la base de données, associé à l'utilisateur.
   - Envoyer un e-mail à l'adresse enregistrée de l'utilisateur contenant un lien vers une page de réinitialisation de mot de passe sur le frontend, incluant le token comme paramètre d'URL.
   - Créer un autre endpoint (par exemple, `/api/auth/reset-password`) qui reçoit le token et le nouveau mot de passe.
   - Sur cet endpoint, vérifier la validité du token (existe-t-il ? est-il expiré ?).
   - Si le token est valide, hacher le nouveau mot de passe fourni par l'utilisateur et mettre à jour son mot de passe dans la base de données.
   - Invalider le token utilisé pour qu'il ne puisse pas être réutilisé.

2. __Côté Frontend:__

   - Ajouter un lien "Mot de passe oublié ?" sur la page de connexion.
   - Créer une nouvelle page (par exemple, `/forgot-password.html`) avec un formulaire pour que l'utilisateur soumette son e-mail/nom d'utilisateur pour demander la réinitialisation.
   - Créer une autre nouvelle page (par exemple, `/reset-password.html`) qui s'ouvre via le lien envoyé par e-mail. Cette page lira le token depuis l'URL et affichera un formulaire pour que l'utilisateur entre et confirme son nouveau mot de passe.
   - Ajouter le JavaScript nécessaire pour gérer les soumissions de formulaires sur ces nouvelles pages et interagir avec les nouveaux endpoints backend.

Ce processus implique des modifications à la fois côté serveur et côté client, ainsi que la mise en place d'une fonctionnalité d'envoi d'e-mails si elle n'existe pas déjà.

Est-ce que ce plan correspond à ce que vous aviez en tête pour la réinitialisation de mot de passe ? Avez-vous des préférences ou des exigences spécifiques concernant l'implémentation (par exemple, quel service d'envoi d'e-mails utiliser, si vous en avez un) ?

Une fois que nous aurons finalisé le plan, vous pourrez passer en mode ACT pour que je commence l'implémentation.

