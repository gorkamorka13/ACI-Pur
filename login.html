<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureConnect - Connexion</title>
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" sizes="any">
    <link rel="stylesheet" href="css/auth.css">
</head>

<body>
    <nav class="navbar">
        <div class="logo">
            <img src="/assets/favicon.ico" alt="MSP Gestion Logo"
                style="width: 25px; height: 25px; margin-bottom: 0; vertical-align: middle;">
            <span style="margin-left: 0.5rem;">MSP Gestion</span>
        </div>

        <!-- Hamburger icon -->
        <div class="hamburger">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

        <div class="nav-links">
            <!-- <a href="#" class="nav-link" data-page="accueil">Accueil</a> -->
            <a href="#" class="nav-link" data-page="fonctionnalites">Fonctionnalites</a>
            <a href="#" class="nav-link" data-page="a-propos">À propos</a>
            <a href="#" class="nav-link" data-page="contact">Contact</a>
            <a href="/assets/plaquette_MSP_2019_web.pdf" target="_blank" class="nav-link">Plaquette MSP</a>
        </div>
    </nav>

    <section class="hero">
        <h1>Bienvenue sur MSP Gestion</h1>
        <p>Votre plateforme de confiance pour des solutions numériques de gestion de MSP sécurisées et efficaces.
            Connectez-vous pour accéder à votre tableau de bord.</p>
    </section>

    <div class="main-content">
        <div class="login-container">
            <div class="login-header">
                <h2>Connexion</h2>
                <p>Entrez vos identifiants pour accéder à votre compte</p>
            </div>

            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label for="loginIdentifier">Nom d'utilisateur</label>
                    <input type="text" id="loginIdentifier" name="loginIdentifier" required>
                </div>

                <div class="form-group">
                    <label for="loginPassword">Mot de passe</label>
                    <input type="password" id="loginPassword" name="loginPassword" required>
                </div>

                <!-- <div class="login-options">
                    <div class="remember-me">
                        <input type="checkbox" id="remember" name="remember">
                        <label for="remember">Se souvenir de moi</label>
                    </div>
                    <a href="#" class="forgot-password">Mot de passe oublié?</a>
                </div> -->

                <button type="submit" class="btn-login">Se connecter</button>
            </form>
            <div id="message"></div>
            <div class="register-link">
                <p>Vous n'avez pas de compte? <a href="register.html">Inscrivez-vous maintenant</a></p>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 MSP Gestion. Tous droits réservés.</p>
    </footer>

    <!-- READMEDialog Boxes -->
    <div class="dialog-overlay" id="fonctionnalitesDialog">
        <div class="dialog-content">
            <div class="dialog-banner">
                <div class="dialog-banner-content">
                    <img src="/assets/favicon.ico" alt="MSP Gestion Logo">
                    <h3>Fonctionnalités</h3>
                </div>
                <span class="dialog-close" id="closeFonctionnalites">&times;</span>
            </div>
            <div class="dialog-body">
                <p><strong>MSP Gestion - Gestion des Accords Cadres Interprofessionnels (ACI)</strong><br>
                    Application web conçue pour les Maisons de Santé Pluriprofessionnelles (MSP)
                    afin de simplifier la gestion et la répartition des financements issus de l'Accord Cadre
                    Interprofessionnel (ACI).</p>
                <h4>Objectif</h4>
                <p>
                    L'ACI vise à valoriser le travail en équipe et les actions coordonnées des professionnels de santé
                    au sein des MSP. Cette application a pour but de :
                </p>
                <ul>
                    <li>Centraliser les informations relatives aux activités financées par l'ACI.</li>
                    <li>Faciliter le suivi des revenus, des charges, et des différentes activités (projets, réunions).
                    </li>
                    <li>Automatiser la répartition des fonds ACI entre les professionnels selon des critères
                        paramétrables.</li>
                    <li>Offrir une meilleure visibilité sur l'utilisation des fonds et la contribution de chacun.</li>
                </ul>
                <h4>Fonctionnalités Principales</h4>
                <ul>
                    <li><strong>Gestion des Revenus ACI:</strong> Enregistrement et suivi des différentes sources de
                        revenus liées à l'ACI.</li>
                    <li><strong>Gestion des Charges:</strong> Suivi des dépenses engagées dans le cadre des activités
                        ACI.</li>
                    <li><strong>Gestion des Associés et Professionnels:</strong> Répertoire des professionnels de santé
                        membres de la MSP participant aux activités ACI.</li>
                    <li><strong>Suivi des Réunions de Coordination Pluriprofessionnelles (RCP):</strong> Enregistrement
                        des dates, participants et éventuellement des points clés des réunions pertinentes pour l'ACI.
                    </li>
                    <li><strong>Gestion des Projets et Missions:</strong> Suivi des projets spécifiques financés ou
                        co-financés par l'ACI, incluant leur description, budget, et participants.</li>
                    <li><strong>Répartition Automatique des Revenus:</strong> Calcul automatisé de la distribution des
                        fonds ACI restants (après déduction des charges) entre les professionnels, basé sur les règles
                        définies.</li>
                    <li><strong>Paramétrage des Critères de Répartition:</strong> Interface permettant de configurer les
                        règles et pondérations pour la répartition des fonds (ex: participation aux réunions,
                        implication dans les projets, etc.).</li>
                    <li><strong>Visualisation:</strong> (Potentiellement via Chart.js ou similaire) Graphiques et
                        tableaux de bord pour visualiser les données financières et la répartition.</li>
                </ul>
            </div>
        </div>
    </div>
    </div>

    <div class="dialog-overlay" id="aProposDialog">
        <div class="dialog-content">
            <div class="dialog-banner">
                <div class="dialog-banner-content">
                    <img src="/assets/favicon.ico" alt="MSP Gestion Logo">
                    <h3>MSP Gestion</h3>
                </div>
                <span class="dialog-close" id="closeAPropos">&times;</span>
            </div>
            <div class="dialog-body">
                <p style="text-align: center;">Développeur: Dr Florian ESPARSA</p>
                <p style="text-align: center;">Version: 1.0.0</p>
                <p style="text-align: center;">Date: 01/05/2025</p>
            </div>
        </div>
    </div>

    <div class="dialog-overlay" id="contactDialog">
        <div class="dialog-content">
            <div class="login-header dialog-banner">
                <div class="dialog-banner-content">
                    <img src="/assets/favicon.ico" alt="MSP Gestion Logo">
                    <h3>Contact</h3>
                </div>
                <span class="dialog-close" id="closeContact">&times;</span>
            </div>
            <div class="dialog-body">
                <form class="contact-form" action="https://api.web3forms.com/submit" method="POST">
                    <input type="hidden" name="access_key" value="3c4c8aad-afd8-42f1-b170-1696bc34bd00">
                    <div class="form-group">
                        <label for="contactEmail">Votre email:</label>
                        <input type="email" id="contactEmail" name="contactEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="contactMessage">Votre message:</label>
                        <textarea id="contactMessage" name="contactMessage" rows="4" required></textarea>
                    </div>
                    <button type="submit">Envoyer</button>
                </form>
            </div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Navbar Functionality
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (event) => {
                    const page = event.target.dataset.page;
                    if (page) { // Only prevent default if data-page exists
                        event.preventDefault();
                        switch (page) {
                            case 'accueil':
                                window.location.href = 'login.html';
                                break;
                            case 'fonctionnalites':
                                openDialog('fonctionnalitesDialog');
                                // Populate with README content later
                                break;
                            case 'a-propos':
                                openDialog('aProposDialog');
                                break;
                            case 'contact':
                                openDialog('contactDialog');
                                break;
                        }
                    }
                    // If no data-page, default link behavior occurs (e.g., opening PDF)
                });
            });

            // Close Dialogs
            document.querySelectorAll('.dialog-close').forEach(closeButton => {
                closeButton.addEventListener('click', (event) => {
                    const dialogId = event.target.closest('.dialog-content').parentNode.id;
                    closeDialog(dialogId);
                });
            });

            // Open Dialog Function
            function openDialog(dialogId) {
                const dialog = document.getElementById(dialogId);
                if (dialog) {
                    dialog.style.display = 'flex';
                }
            }

            //Close Dialog Function
            function closeDialog(dialogId) {
                const dialog = document.getElementById(dialogId);
                if (dialog) {
                    dialog.style.display = 'none';
                }
            }

        });

        // Hamburger menu toggle
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');

        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });
    </script>
</body>

</html>
